import{a as B,b as P,r as h,o as C,e as D,w as E,v as L,f as i,t as O,h as S}from"./entry.ef507ec6.js";const U={class:"flex justify-center flex-wrap pt-2 flex-col items-center"},j=i("p",{class:"text-lg text-gray-300"},"RGB Lamp Display Emulator by KK",-1),k=i("a",{class:"mb-5 text-xs text-blue-400 underline",href:"https://github.com/KK-mp4/RGB-Lamp-Display-Emulator#readme",target:"_blank"},"More info in GitHub",-1),K=i("p",{class:"mb-1 text-sm text-gray-300"},"Lamp texture resolution:",-1),H=S('<option value="1x1">1x1</option><option value="2x2">2x2</option><option value="4x4">4x4</option><option value="8x8">8x8</option><option value="16x16">16x16</option>',5),N=[H],V={class:"mb-1 text-sm text-gray-300"},z={class:"w-full h-full mt-5 flex justify-center",style:{"image-rendering":"pixelated"}},M=["src"],J=B({__name:"index",setup(A){P({title:"Generator"});const s=h("16x16"),I=h("");let e=16;const g=h(512);let p;async function y(){const l=new Image;l.src=p,await new Promise(a=>{l.onload=()=>a(1)});let n=l.width,r=l.height;n>512&&(n=512),r>512&&(r=512);const v=document.createElement("canvas");v.width=n,v.height=r;const b=v.getContext("2d");b.drawImage(l,0,0,l.width,l.height);const d=new Image;d.src="./"+s.value+"/ROff.png",await new Promise(a=>{d.onload=()=>a(1)});const c=new Image;c.src="./"+s.value+"/ROn.png",await new Promise(a=>{c.onload=()=>a(1)});const m=new Image;m.src="./"+s.value+"/GOff.png",await new Promise(a=>{m.onload=()=>a(1)});const u=new Image;u.src="./"+s.value+"/GOn.png",await new Promise(a=>{u.onload=()=>a(1)});const w=new Image;w.src="./"+s.value+"/BOff.png",await new Promise(a=>{w.onload=()=>a(1)});const f=new Image;f.src="./"+s.value+"/BOn.png",await new Promise(a=>{f.onload=()=>a(1)});const x=document.createElement("canvas");x.width=n*3*e,x.height=r*3*e;const o=x.getContext("2d");for(let a=0;a<r;a++)for(let t=0;t<n;t++){const _=b.getImageData(t,a,1,1).data;_[0]>=128?(o.drawImage(c,t*3*e,a*3*e),o.drawImage(c,t*3*e,a*3*e+e),o.drawImage(c,t*3*e,a*3*e+e*2)):(o.drawImage(d,t*3*e,a*3*e),o.drawImage(d,t*3*e,a*3*e+e),o.drawImage(d,t*3*e,a*3*e+e*2)),_[1]>=128?(o.drawImage(u,t*3*e+e,a*3*e),o.drawImage(u,t*3*e+e,a*3*e+e),o.drawImage(u,t*3*e+e,a*3*e+e*2)):(o.drawImage(m,t*3*e+e,a*3*e),o.drawImage(m,t*3*e+e,a*3*e+e),o.drawImage(m,t*3*e+e,a*3*e+e*2)),_[2]>=128?(o.drawImage(f,t*3*e+e*2,a*3*e),o.drawImage(f,t*3*e+e*2,a*3*e+e),o.drawImage(f,t*3*e+e*2,a*3*e+e*2)):(o.drawImage(w,t*3*e+e*2,a*3*e),o.drawImage(w,t*3*e+e*2,a*3*e+e),o.drawImage(w,t*3*e+e*2,a*3*e+e*2))}I.value=x.toDataURL()}async function R(l){if(l.target.files&&l.target.files[0]){let n=new FileReader;n.readAsDataURL(l.target.files[0]),n.onload=r=>{p=r.target.result,y()},console.log("Image loaded: "+p)}}async function G(){s.value==="1x1"?(e=1,g.value=8192):s.value==="2x2"?(e=2,g.value=4096):s.value==="4x4"?(e=4,g.value=2048):s.value==="8x8"?(e=8,g.value=1024):(e=16,g.value=512),p&&y()}return(l,n)=>(C(),D("div",U,[j,k,K,E(i("select",{"onUpdate:modelValue":n[0]||(n[0]=r=>s.value=r),class:"w-64 mb-5 rounded-lg border h-7 bg-gray-700 border-gray-600 text-gray-400",onChange:n[1]||(n[1]=r=>G())},N,544),[[L,s.value]]),i("p",V,"PNG or JPG ("+O(g.value)+"x"+O(g.value)+"px max)",1),i("input",{class:"block text-sm text-gray-400 rounded-lg border cursor-pointer focus:outline-none bg-gray-700 border-gray-600 placeholder-gray-400",type:"file",accept:".png, .jpg",onChange:n[2]||(n[2]=r=>R(r))},null,32),i("div",z,[i("img",{src:I.value,class:"w-[75%]"},null,8,M)])]))}});export{J as default};
