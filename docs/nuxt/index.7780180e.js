import{a as O,b as G,r as v,o as B,e as P,w as R,v as D,f as i}from"./entry.84f755e1.js";const C={class:"flex justify-center flex-wrap pt-2 flex-col items-center"},k=i("p",{class:"text-lg text-gray-300"},"RGB Lamp Display Emulator by KK",-1),E=i("a",{class:"mb-5 text-xs text-blue-400 underline",href:"https://github.com/KK-mp4/RGB-Lamp-Display-Emulator#readme",target:"_blank"},"More info in GitHub",-1),j=i("option",{value:"4x4"},"4x4",-1),K=i("option",{value:"8x8"},"8x8",-1),L=i("option",{value:"16x16"},"16x16",-1),U=[j,K,L],H=i("p",{class:"mt-1 text-sm text-gray-300"},"PNG or JPG (512x512px max)",-1),S={class:"w-full h-full mt-5 flex justify-center",style:{"image-rendering":"pixelated"}},z=["src"],V=O({__name:"index",setup(M){G({title:"Generator"});const l=v("16x16"),h=v("");async function y(){const s=new Image;s.src=p,await new Promise(a=>{s.onload=()=>a(1)});let n=s.width,r=s.height;n>512&&(n=512),r>512&&(r=512);let e=0;l.value==="4x4"?e=4:l.value==="8x8"?e=8:e=16;const _=document.createElement("canvas");_.width=n,_.height=r;const I=_.getContext("2d");I.drawImage(s,0,0,s.width,s.height);const d=new Image;d.src="./"+l.value+"/ROff.png",await new Promise(a=>{d.onload=()=>a(1)});const g=new Image;g.src="./"+l.value+"/ROn.png",await new Promise(a=>{g.onload=()=>a(1)});const c=new Image;c.src="./"+l.value+"/GOff.png",await new Promise(a=>{c.onload=()=>a(1)});const m=new Image;m.src="./"+l.value+"/GOn.png",await new Promise(a=>{m.onload=()=>a(1)});const w=new Image;w.src="./"+l.value+"/BOff.png",await new Promise(a=>{w.onload=()=>a(1)});const u=new Image;u.src="./"+l.value+"/BOn.png",await new Promise(a=>{u.onload=()=>a(1)});const f=document.createElement("canvas");f.width=n*3*e,f.height=r*3*e;const o=f.getContext("2d");for(let a=0;a<r;a++)for(let t=0;t<n;t++){const x=I.getImageData(t,a,1,1).data;x[0]>=128?(o.drawImage(g,t*3*e,a*3*e),o.drawImage(g,t*3*e,a*3*e+e),o.drawImage(g,t*3*e,a*3*e+e*2)):(o.drawImage(d,t*3*e,a*3*e),o.drawImage(d,t*3*e,a*3*e+e),o.drawImage(d,t*3*e,a*3*e+e*2)),x[1]>=128?(o.drawImage(m,t*3*e+e,a*3*e),o.drawImage(m,t*3*e+e,a*3*e+e),o.drawImage(m,t*3*e+e,a*3*e+e*2)):(o.drawImage(c,t*3*e+e,a*3*e),o.drawImage(c,t*3*e+e,a*3*e+e),o.drawImage(c,t*3*e+e,a*3*e+e*2)),x[2]>=128?(o.drawImage(u,t*3*e+e*2,a*3*e),o.drawImage(u,t*3*e+e*2,a*3*e+e),o.drawImage(u,t*3*e+e*2,a*3*e+e*2)):(o.drawImage(w,t*3*e+e*2,a*3*e),o.drawImage(w,t*3*e+e*2,a*3*e+e),o.drawImage(w,t*3*e+e*2,a*3*e+e*2))}h.value=f.toDataURL()}let p;async function b(s){if(s.target.files&&s.target.files[0]){let n=new FileReader;n.readAsDataURL(s.target.files[0]),n.onload=r=>{p=r.target.result,y()},console.log("Image loaded: "+p)}}return(s,n)=>(B(),P("div",C,[k,E,R(i("select",{"onUpdate:modelValue":n[0]||(n[0]=r=>l.value=r),class:"w-64 mb-5 rounded-lg border h-7 bg-gray-700 border-gray-600 text-gray-400"},U,512),[[D,l.value]]),i("input",{class:"block text-sm text-gray-400 rounded-lg border cursor-pointer focus:outline-none bg-gray-700 border-gray-600 placeholder-gray-400",type:"file",accept:".png, .jpg",onChange:n[1]||(n[1]=r=>b(r))},null,32),H,i("div",S,[i("img",{src:h.value,class:"w-[75%]"},null,8,z)])]))}});export{V as default};
