import{a as L,b as U,r as _,o as C,e as D,w as k,v as E,f as r,t as G,u as S,h as j,i as K}from"./entry.08619c34.js";const N=""+globalThis.__publicAssetsURL("load.png"),V={class:"flex justify-center flex-wrap pt-2 flex-col items-center"},H=r("p",{class:"text-lg text-gray-300"},"RGB Lamp Display Emulator by KK",-1),z=r("a",{class:"mb-5 text-xs text-blue-400 underline",href:"https://github.com/KK-mp4/RGB-Lamp-Display-Emulator#readme",target:"_blank"},"More info in GitHub",-1),A=r("p",{class:"mb-1 text-sm text-gray-300"},"Lamp texture resolution:",-1),M=K('<option value="1x1">1x1</option><option value="2x2">2x2</option><option value="4x4">4x4</option><option value="8x8">8x8</option><option value="16x16">16x16</option>',5),F=[M],J={class:"mb-1 text-sm text-gray-300"},T={key:0,class:"animate-spin h-7 w-7 mt-5",src:N},W={class:"w-full h-full mt-5 flex justify-center",style:{"image-rendering":"pixelated"}},$=["src"],X=L({__name:"index",setup(q){U({title:"Generator"});const s=_("16x16"),b=_("");let e=16;const i=_(512);let x,h=_(!1);async function O(){const g=Date.now();h.value=!0;const n=new Image;n.src=x,await new Promise(a=>{n.onload=()=>a(1)});let l=n.width,c=n.height;l>512&&(l=512),c>512&&(c=512);const I=document.createElement("canvas");I.width=l,I.height=c;const R=I.getContext("2d");R.drawImage(n,0,0,n.width,n.height);const m=new Image;m.src="./"+s.value+"/ROff.png",await new Promise(a=>{m.onload=()=>a(1)});const d=new Image;d.src="./"+s.value+"/ROn.png",await new Promise(a=>{d.onload=()=>a(1)});const u=new Image;u.src="./"+s.value+"/GOff.png",await new Promise(a=>{u.onload=()=>a(1)});const w=new Image;w.src="./"+s.value+"/GOn.png",await new Promise(a=>{w.onload=()=>a(1)});const f=new Image;f.src="./"+s.value+"/BOff.png",await new Promise(a=>{f.onload=()=>a(1)});const p=new Image;p.src="./"+s.value+"/BOn.png",await new Promise(a=>{p.onload=()=>a(1)});const v=document.createElement("canvas");v.width=l*3*e,v.height=c*3*e;const o=v.getContext("2d");for(let a=0;a<c;a++)for(let t=0;t<l;t++){const y=R.getImageData(t,a,1,1).data;y[0]>=128?(o.drawImage(d,t*3*e,a*3*e),o.drawImage(d,t*3*e,a*3*e+e),o.drawImage(d,t*3*e,a*3*e+e*2)):(o.drawImage(m,t*3*e,a*3*e),o.drawImage(m,t*3*e,a*3*e+e),o.drawImage(m,t*3*e,a*3*e+e*2)),y[1]>=128?(o.drawImage(w,t*3*e+e,a*3*e),o.drawImage(w,t*3*e+e,a*3*e+e),o.drawImage(w,t*3*e+e,a*3*e+e*2)):(o.drawImage(u,t*3*e+e,a*3*e),o.drawImage(u,t*3*e+e,a*3*e+e),o.drawImage(u,t*3*e+e,a*3*e+e*2)),y[2]>=128?(o.drawImage(p,t*3*e+e*2,a*3*e),o.drawImage(p,t*3*e+e*2,a*3*e+e),o.drawImage(p,t*3*e+e*2,a*3*e+e*2)):(o.drawImage(f,t*3*e+e*2,a*3*e),o.drawImage(f,t*3*e+e*2,a*3*e+e),o.drawImage(f,t*3*e+e*2,a*3*e+e*2))}b.value=v.toDataURL(),h.value=!1,console.log(Date.now()-g+"ms - Calculation time")}async function B(g){if(g.target.files&&g.target.files[0]){let n=new FileReader;n.readAsDataURL(g.target.files[0]),n.onload=l=>{x=l.target.result,O()},console.log("Image loaded: "+x)}}async function P(){s.value==="1x1"?(e=1,i.value=8192):s.value==="2x2"?(e=2,i.value=4096):s.value==="4x4"?(e=4,i.value=2048):s.value==="8x8"?(e=8,i.value=1024):(e=16,i.value=512),x&&O()}return(g,n)=>(C(),D("div",V,[H,z,A,k(r("select",{"onUpdate:modelValue":n[0]||(n[0]=l=>s.value=l),class:"w-64 mb-5 rounded-lg border h-7 bg-gray-700 border-gray-600 text-gray-400",onChange:n[1]||(n[1]=l=>P())},F,544),[[E,s.value]]),r("p",J,"PNG or JPG ("+G(i.value)+"x"+G(i.value)+"px max)",1),r("input",{class:"block text-sm text-gray-400 rounded-lg border cursor-pointer focus:outline-none bg-gray-700 border-gray-600 placeholder-gray-400",type:"file",accept:".png, .jpg",onChange:n[2]||(n[2]=l=>B(l))},null,32),S(h)?(C(),D("img",T)):j("",!0),r("div",W,[r("img",{src:b.value,class:"w-[75%]"},null,8,$)])]))}});export{X as default};
